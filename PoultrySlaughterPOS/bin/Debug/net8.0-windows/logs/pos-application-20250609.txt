[2025-06-09 08:21:50.221 +03:00 INF] : Serilog logging infrastructure configured successfully
[2025-06-09 08:21:50.312 +03:00 INF] : === Poultry Slaughter POS Application Starting ===
[2025-06-09 08:21:50.312 +03:00 INF] : Startup initiated with complete customer management integration
[2025-06-09 08:21:50.574 +03:00 INF] : Database configuration - UseExplicitTransactions: true, EnableRetryOnFailure: false
[2025-06-09 08:21:50.805 +03:00 INF] : Service configuration completed successfully with 74 services registered (complete customer management integration)
[2025-06-09 08:21:50.816 +03:00 INF] : Service registration completed - 74 services configured
[2025-06-09 08:21:50.817 +03:00 INF] : Service provider configured successfully
[2025-06-09 08:21:51.556 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 08:21:52.957 +03:00 WRN] Microsoft.EntityFrameworkCore.Query: The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2025-06-09 08:21:52.970 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow initialized successfully with complete customer management support
[2025-06-09 08:21:53.149 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 08:21:53.511 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-06-09 08:21:53.673 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error retrieving debt summary
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
[2025-06-09 08:21:53.770 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow loaded successfully
[2025-06-09 08:21:53.778 +03:00 INF] : Main window created and displayed successfully
[2025-06-09 08:21:53.779 +03:00 INF] : === Poultry Slaughter POS Application Started Successfully ===
[2025-06-09 08:21:53.797 +03:00 INF] PoultrySlaughterPOS.MainWindow: Dashboard statistics loaded successfully - Trucks: 3, Customers: 3, Invoices: 0, Debt: ¤0.00
[2025-06-09 08:21:53.839 +03:00 ERR] PoultrySlaughterPOS.MainWindow: Error loading dashboard statistics
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
   at PoultrySlaughterPOS.MainWindow.LoadDashboardStatisticsAsync() in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\MainWindow.xaml.cs:line 555
[2025-06-09 08:21:53.841 +03:00 WRN] PoultrySlaughterPOS.MainWindow: Status message (Error): خطأ في تحميل إحصائيات النظام
[2025-06-09 08:21:53.841 +03:00 INF] PoultrySlaughterPOS.MainWindow: Initial dashboard loaded successfully
[2025-06-09 08:21:56.040 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 08:21:56.091 +03:00 INF] PoultrySlaughterPOS.MainWindow: Transaction History view created and configured successfully
[2025-06-09 08:21:56.092 +03:00 INF] PoultrySlaughterPOS.Views.TransactionHistoryView: Initializing transaction history view
[2025-06-09 08:21:56.240 +03:00 INF] PoultrySlaughterPOS.Views.TransactionHistoryView: Initializing transaction history view
[2025-06-09 08:21:56.913 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Loaded 3 transactions for period "2025-05-10T00:00:00.0000000+03:00" to "2025-06-09T00:00:00.0000000+03:00"
[2025-06-09 08:21:56.914 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Transaction history view model initialized successfully
[2025-06-09 08:21:56.914 +03:00 INF] PoultrySlaughterPOS.Views.TransactionHistoryView: Transaction history view initialized successfully
[2025-06-09 08:21:56.914 +03:00 INF] PoultrySlaughterPOS.MainWindow: Successfully navigated to TransactionHistory
[2025-06-09 08:21:57.235 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Loaded 3 transactions for period "2025-05-10T00:00:00.0000000+03:00" to "2025-06-09T00:00:00.0000000+03:00"
[2025-06-09 08:21:57.454 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Transaction history view model initialized successfully
[2025-06-09 08:21:57.454 +03:00 INF] PoultrySlaughterPOS.Views.TransactionHistoryView: Transaction history view initialized successfully
[2025-06-09 08:22:09.272 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Loaded 3 transactions for period "2025-05-10T00:00:00.0000000+03:00" to "2025-06-09T00:00:00.0000000+03:00"
[2025-06-09 08:22:19.975 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Loaded 3 transactions for period "2025-05-10T00:00:00.0000000+03:00" to "2025-06-09T00:00:00.0000000+03:00"
[2025-06-09 08:22:20.998 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Loaded 3 transactions for period "2025-05-10T00:00:00.0000000+03:00" to "2025-06-09T00:00:00.0000000+03:00"
[2025-06-09 08:25:30.558 +03:00 INF] : Serilog logging infrastructure configured successfully
[2025-06-09 08:25:30.651 +03:00 INF] : === Poultry Slaughter POS Application Starting ===
[2025-06-09 08:25:30.651 +03:00 INF] : Startup initiated with complete customer management integration
[2025-06-09 08:25:30.890 +03:00 INF] : Database configuration - UseExplicitTransactions: true, EnableRetryOnFailure: false
[2025-06-09 08:25:31.091 +03:00 INF] : Service configuration completed successfully with 74 services registered (complete customer management integration)
[2025-06-09 08:25:31.103 +03:00 INF] : Service registration completed - 74 services configured
[2025-06-09 08:25:31.104 +03:00 INF] : Service provider configured successfully
[2025-06-09 08:25:31.736 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 08:25:33.094 +03:00 WRN] Microsoft.EntityFrameworkCore.Query: The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2025-06-09 08:25:33.201 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-06-09 08:25:33.370 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error retrieving debt summary
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
[2025-06-09 08:25:33.441 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow initialized successfully with complete customer management support
[2025-06-09 08:25:33.652 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 08:25:33.969 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-06-09 08:25:34.200 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error retrieving debt summary
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
[2025-06-09 08:25:34.295 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow loaded successfully
[2025-06-09 08:25:34.307 +03:00 INF] : Main window created and displayed successfully
[2025-06-09 08:25:34.307 +03:00 INF] : === Poultry Slaughter POS Application Started Successfully ===
[2025-06-09 08:25:34.373 +03:00 ERR] PoultrySlaughterPOS.MainWindow: Error loading dashboard statistics
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
   at PoultrySlaughterPOS.MainWindow.LoadDashboardStatisticsAsync() in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\MainWindow.xaml.cs:line 555
[2025-06-09 08:25:34.375 +03:00 WRN] PoultrySlaughterPOS.MainWindow: Status message (Error): خطأ في تحميل إحصائيات النظام
[2025-06-09 08:25:34.480 +03:00 ERR] PoultrySlaughterPOS.MainWindow: Error loading dashboard statistics
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
   at PoultrySlaughterPOS.MainWindow.LoadDashboardStatisticsAsync() in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\MainWindow.xaml.cs:line 555
[2025-06-09 08:25:34.482 +03:00 WRN] PoultrySlaughterPOS.MainWindow: Status message (Error): خطأ في تحميل إحصائيات النظام
[2025-06-09 08:25:34.482 +03:00 INF] PoultrySlaughterPOS.MainWindow: Initial dashboard loaded successfully
[2025-06-09 08:25:36.695 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 08:25:36.745 +03:00 INF] PoultrySlaughterPOS.MainWindow: Transaction History view created and configured successfully
[2025-06-09 08:25:36.746 +03:00 INF] PoultrySlaughterPOS.Views.TransactionHistoryView: Initializing transaction history view
[2025-06-09 08:25:36.892 +03:00 INF] PoultrySlaughterPOS.Views.TransactionHistoryView: Initializing transaction history view
[2025-06-09 08:25:37.455 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-06-09 08:25:37.568 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error finding entities Customer with predicate
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.Repository`1.FindAsync(Expression`1 predicate, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\Services\Repositories\Repository.cs:line 69
[2025-06-09 08:25:37.639 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Error loading transactions
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.Repository`1.FindAsync(Expression`1 predicate, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\Services\Repositories\Repository.cs:line 69
   at PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel.<LoadTransactionsAsync>b__35_0() in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\ViewModels\TransactionHistoryViewModel.cs:line 270
[2025-06-09 08:25:37.709 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error 530a299b in حدث خطأ أثناء العملية: InvalidOperationException - A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.Repository`1.FindAsync(Expression`1 predicate, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\Services\Repositories\Repository.cs:line 69
   at PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel.<LoadTransactionsAsync>b__35_0() in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\ViewModels\TransactionHistoryViewModel.cs:line 270
   at PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel.ExecuteWithLoadingAsync(Func`1 operation) in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\ViewModels\TransactionHistoryViewModel.cs:line 581
[2025-06-09 08:25:37.771 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Transaction history view model initialized successfully
[2025-06-09 08:25:37.771 +03:00 INF] PoultrySlaughterPOS.Views.TransactionHistoryView: Transaction history view initialized successfully
[2025-06-09 08:25:37.800 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Loaded 3 transactions for period "2025-05-10T00:00:00.0000000+03:00" to "2025-06-09T00:00:00.0000000+03:00"
[2025-06-09 08:25:37.801 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Transaction history view model initialized successfully
[2025-06-09 08:25:37.801 +03:00 INF] PoultrySlaughterPOS.Views.TransactionHistoryView: Transaction history view initialized successfully
[2025-06-09 08:25:37.802 +03:00 INF] PoultrySlaughterPOS.MainWindow: Successfully navigated to TransactionHistory
[2025-06-09 08:25:40.062 +03:00 INF] PoultrySlaughterPOS.MainWindow: Reports navigation attempted - feature under development
[2025-06-09 08:25:41.012 +03:00 INF] PoultrySlaughterPOS.MainWindow: Successfully navigated to TransactionHistory
[2025-06-09 08:26:20.096 +03:00 INF] : Serilog logging infrastructure configured successfully
[2025-06-09 08:26:20.140 +03:00 INF] : === Poultry Slaughter POS Application Starting ===
[2025-06-09 08:26:20.140 +03:00 INF] : Startup initiated with complete customer management integration
[2025-06-09 08:26:20.230 +03:00 INF] : Database configuration - UseExplicitTransactions: true, EnableRetryOnFailure: false
[2025-06-09 08:26:20.332 +03:00 INF] : Service configuration completed successfully with 74 services registered (complete customer management integration)
[2025-06-09 08:26:20.342 +03:00 INF] : Service registration completed - 74 services configured
[2025-06-09 08:26:20.343 +03:00 INF] : Service provider configured successfully
[2025-06-09 08:26:21.109 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 08:26:22.485 +03:00 WRN] Microsoft.EntityFrameworkCore.Query: The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2025-06-09 08:26:22.498 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow initialized successfully with complete customer management support
[2025-06-09 08:26:22.670 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 08:26:22.968 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-06-09 08:26:23.141 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error retrieving debt summary
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
[2025-06-09 08:26:23.237 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow loaded successfully
[2025-06-09 08:26:23.245 +03:00 INF] : Main window created and displayed successfully
[2025-06-09 08:26:23.245 +03:00 INF] : === Poultry Slaughter POS Application Started Successfully ===
[2025-06-09 08:26:23.267 +03:00 INF] PoultrySlaughterPOS.MainWindow: Dashboard statistics loaded successfully - Trucks: 3, Customers: 3, Invoices: 0, Debt: ¤0.00
[2025-06-09 08:26:23.311 +03:00 ERR] PoultrySlaughterPOS.MainWindow: Error loading dashboard statistics
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
   at PoultrySlaughterPOS.MainWindow.LoadDashboardStatisticsAsync() in C:\Users\Mr. Ahmad\Desktop\8-6-chicken\PoultrySlaughterPOS\PoultrySlaughterPOS\MainWindow.xaml.cs:line 555
[2025-06-09 08:26:23.313 +03:00 WRN] PoultrySlaughterPOS.MainWindow: Status message (Error): خطأ في تحميل إحصائيات النظام
[2025-06-09 08:26:23.314 +03:00 INF] PoultrySlaughterPOS.MainWindow: Initial dashboard loaded successfully
[2025-06-09 08:26:26.376 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 08:26:26.427 +03:00 INF] PoultrySlaughterPOS.MainWindow: Transaction History view created and configured successfully
[2025-06-09 08:26:26.428 +03:00 INF] PoultrySlaughterPOS.Views.TransactionHistoryView: Initializing transaction history view
[2025-06-09 08:26:26.565 +03:00 INF] PoultrySlaughterPOS.Views.TransactionHistoryView: Initializing transaction history view
[2025-06-09 08:26:27.233 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Loaded 3 transactions for period "2025-05-10T00:00:00.0000000+03:00" to "2025-06-09T00:00:00.0000000+03:00"
[2025-06-09 08:26:27.235 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Transaction history view model initialized successfully
[2025-06-09 08:26:27.236 +03:00 INF] PoultrySlaughterPOS.Views.TransactionHistoryView: Transaction history view initialized successfully
[2025-06-09 08:26:27.236 +03:00 INF] PoultrySlaughterPOS.MainWindow: Successfully navigated to TransactionHistory
[2025-06-09 08:26:27.374 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Loaded 3 transactions for period "2025-05-10T00:00:00.0000000+03:00" to "2025-06-09T00:00:00.0000000+03:00"
[2025-06-09 08:26:27.411 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Transaction history view model initialized successfully
[2025-06-09 08:26:27.411 +03:00 INF] PoultrySlaughterPOS.Views.TransactionHistoryView: Transaction history view initialized successfully
[2025-06-09 08:26:52.060 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Loaded 3 transactions for period "2025-05-10T00:00:00.0000000+03:00" to "2025-06-09T00:00:00.0000000+03:00"
[2025-06-09 08:26:52.695 +03:00 INF] PoultrySlaughterPOS.ViewModels.TransactionHistoryViewModel: Loaded 3 transactions for period "2025-05-10T00:00:00.0000000+03:00" to "2025-06-09T00:00:00.0000000+03:00"
[2025-06-09 08:27:12.813 +03:00 INF] PoultrySlaughterPOS.MainWindow: Application closing initiated - performing comprehensive cleanup
[2025-06-09 08:27:12.813 +03:00 INF] PoultrySlaughterPOS.MainWindow: Starting comprehensive resource cleanup
[2025-06-09 08:27:12.816 +03:00 INF] PoultrySlaughterPOS.MainWindow: Resource cleanup completed successfully
[2025-06-09 08:27:12.816 +03:00 INF] PoultrySlaughterPOS.MainWindow: Application cleanup completed successfully
[2025-06-09 08:27:12.835 +03:00 INF] : === Poultry Slaughter POS Application Shutdown Initiated ===
[2025-06-09 08:27:12.838 +03:00 INF] : === Poultry Slaughter POS Application Shutdown Completed ===
[2025-06-09 10:13:51.284 +03:00 INF] : Serilog logging infrastructure configured successfully
[2025-06-09 10:13:51.348 +03:00 INF] : === Poultry Slaughter POS Application Starting ===
[2025-06-09 10:13:51.348 +03:00 INF] : Startup initiated with complete customer management integration
[2025-06-09 10:13:51.568 +03:00 INF] : Database configuration - UseExplicitTransactions: true, EnableRetryOnFailure: false
[2025-06-09 10:13:52.133 +03:00 INF] : Service configuration completed successfully with 74 services registered (complete customer management integration)
[2025-06-09 10:13:52.155 +03:00 INF] : Service registration completed - 74 services configured
[2025-06-09 10:13:52.156 +03:00 INF] : Service provider configured successfully
[2025-06-09 10:13:53.449 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 10:13:56.255 +03:00 WRN] Microsoft.EntityFrameworkCore.Query: The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2025-06-09 10:13:56.274 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow initialized successfully with complete customer management support
[2025-06-09 10:13:56.630 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 10:13:57.274 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-06-09 10:13:57.678 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error retrieving debt summary
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
[2025-06-09 10:13:57.840 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow loaded successfully
[2025-06-09 10:13:57.853 +03:00 INF] : Main window created and displayed successfully
[2025-06-09 10:13:57.853 +03:00 INF] : === Poultry Slaughter POS Application Started Successfully ===
[2025-06-09 10:13:57.885 +03:00 INF] PoultrySlaughterPOS.MainWindow: Dashboard statistics loaded successfully - Trucks: 3, Customers: 3, Invoices: 0, Debt: ¤0.00
[2025-06-09 10:13:57.958 +03:00 ERR] PoultrySlaughterPOS.MainWindow: Error loading dashboard statistics
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
   at PoultrySlaughterPOS.MainWindow.LoadDashboardStatisticsAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\MainWindow.xaml.cs:line 555
[2025-06-09 10:13:57.960 +03:00 WRN] PoultrySlaughterPOS.MainWindow: Status message (Error): خطأ في تحميل إحصائيات النظام
[2025-06-09 10:13:57.961 +03:00 INF] PoultrySlaughterPOS.MainWindow: Initial dashboard loaded successfully
[2025-06-09 10:15:26.191 +03:00 INF] : Serilog logging infrastructure configured successfully
[2025-06-09 10:15:26.269 +03:00 INF] : === Poultry Slaughter POS Application Starting ===
[2025-06-09 10:15:26.269 +03:00 INF] : Startup initiated with complete customer management integration
[2025-06-09 10:15:26.423 +03:00 INF] : Database configuration - UseExplicitTransactions: true, EnableRetryOnFailure: false
[2025-06-09 10:15:26.556 +03:00 INF] : Service configuration completed successfully with 74 services registered (complete customer management integration)
[2025-06-09 10:15:26.570 +03:00 INF] : Service registration completed - 74 services configured
[2025-06-09 10:15:26.570 +03:00 INF] : Service provider configured successfully
[2025-06-09 10:15:27.716 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 10:15:32.197 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (212ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT COUNT(*)
FROM [CUSTOMERS] AS [c]
WHERE [c].[IsActive] = CAST(1 AS bit)
[2025-06-09 10:15:32.439 +03:00 WRN] Microsoft.EntityFrameworkCore.Query: The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2025-06-09 10:15:32.439 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:32.941 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (228ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT TOP(1) COALESCE(SUM([t].[TotalDebt]), 0.0) AS [TotalDebt], COUNT(*) AS [CustomerCount]
FROM (
    SELECT [c].[TotalDebt], 1 AS [Key]
    FROM [CUSTOMERS] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND [c].[TotalDebt] > 0.0
) AS [t]
GROUP BY [t].[Key]
[2025-06-09 10:15:33.107 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:33.108 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow initialized successfully with complete customer management support
[2025-06-09 10:15:32.709 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error counting active customers
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetActiveCustomerCountAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 641
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:33.369 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error retrieving debt summary
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:33.960 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 10:15:35.205 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (202ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT COUNT(*)
FROM [CUSTOMERS] AS [c]
WHERE [c].[IsActive] = CAST(1 AS bit)
[2025-06-09 10:15:35.433 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-06-09 10:15:35.687 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:35.894 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error retrieving debt summary
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
[2025-06-09 10:15:36.145 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error counting active customers
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetActiveCustomerCountAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 641
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:36.393 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow loaded successfully
[2025-06-09 10:15:36.409 +03:00 INF] : Main window created and displayed successfully
[2025-06-09 10:15:36.409 +03:00 INF] : === Poultry Slaughter POS Application Started Successfully ===
[2025-06-09 10:15:36.950 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:ac9bb8b6-dfff-47f9-b1ce-a3708924e1c4
Error Number:208,State:1,Class:16
[2025-06-09 10:15:36.950 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:37.025 +03:00 ERR] PoultrySlaughterPOS.Repositories.InvoiceRepository: Error retrieving invoices from "2025-06-09T00:00:00.0000000+03:00" to "2025-06-10T00:00:00.0000000+03:00"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'INVOICES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.InvoiceRepository.GetInvoicesByDateRangeAsync(DateTime fromDate, DateTime toDate, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\InvoiceRepository.cs:line 296
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:36.979 +03:00 ERR] PoultrySlaughterPOS.Repositories.InvoiceRepository: Error retrieving invoices from "2025-06-09T00:00:00.0000000+03:00" to "2025-06-10T00:00:00.0000000+03:00"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'INVOICES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.InvoiceRepository.GetInvoicesByDateRangeAsync(DateTime fromDate, DateTime toDate, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\InvoiceRepository.cs:line 296
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:37.341 +03:00 ERR] PoultrySlaughterPOS.MainWindow: Error loading dashboard statistics
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
   at PoultrySlaughterPOS.MainWindow.LoadDashboardStatisticsAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\MainWindow.xaml.cs:line 555
[2025-06-09 10:15:37.347 +03:00 WRN] PoultrySlaughterPOS.MainWindow: Status message (Error): خطأ في تحميل إحصائيات النظام
[2025-06-09 10:15:37.463 +03:00 ERR] PoultrySlaughterPOS.MainWindow: Error loading dashboard statistics
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetActiveCustomerCountAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 641
   at PoultrySlaughterPOS.MainWindow.LoadDashboardStatisticsAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\MainWindow.xaml.cs:line 555
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:37.483 +03:00 WRN] PoultrySlaughterPOS.MainWindow: Status message (Error): خطأ في تحميل إحصائيات النظام
[2025-06-09 10:15:37.486 +03:00 INF] PoultrySlaughterPOS.MainWindow: Initial dashboard loaded successfully
[2025-06-09 10:15:41.911 +03:00 INF] PoultrySlaughterPOS.MainWindow: Successfully navigated to Dashboard
[2025-06-09 10:15:42.949 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 10:15:42.999 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: TruckLoadingViewModel initialized with enhanced save functionality and debugging capabilities
[2025-06-09 10:15:43.000 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: TruckLoadingViewModel initialized with enhanced save functionality and debugging capabilities
[2025-06-09 10:15:43.134 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView ViewModel set successfully
[2025-06-09 10:15:43.134 +03:00 INF] PoultrySlaughterPOS.MainWindow: Truck Loading view created and configured successfully
[2025-06-09 10:15:43.136 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView async initialization started
[2025-06-09 10:15:43.138 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Initializing TruckLoadingViewModel with enhanced save capabilities
[2025-06-09 10:15:43.150 +03:00 INF] PoultrySlaughterPOS.Services.TruckLoadingService: Retrieving available trucks for loading
[2025-06-09 10:15:44.128 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:44.272 +03:00 ERR] PoultrySlaughterPOS.Services.TruckLoadingService: Error retrieving available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:44.288 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error 2d79b493 in GetAvailableTrucksAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:44.461 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:44.663 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading truck loading data after 1522ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:44.675 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error 4e8d5f81 in LoadDataAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:44.710 +03:00 WRN] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error message displayed: فشل في تحميل البيانات. يرجى المحاولة مرة أخرى.
[2025-06-09 10:15:44.711 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: TruckLoadingViewModel initialized successfully
[2025-06-09 10:15:44.711 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView async initialization completed successfully
[2025-06-09 10:15:44.712 +03:00 INF] PoultrySlaughterPOS.MainWindow: Successfully navigated to TruckLoading
[2025-06-09 10:15:44.919 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView loaded, initializing ViewModel with save functionality
[2025-06-09 10:15:44.920 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Initializing TruckLoadingViewModel with enhanced save capabilities
[2025-06-09 10:15:44.920 +03:00 INF] PoultrySlaughterPOS.Services.TruckLoadingService: Retrieving available trucks for loading
[2025-06-09 10:15:45.744 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:45.817 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView async initialization started
[2025-06-09 10:15:45.817 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Initializing TruckLoadingViewModel with enhanced save capabilities
[2025-06-09 10:15:45.818 +03:00 INF] PoultrySlaughterPOS.Services.TruckLoadingService: Retrieving available trucks for loading
[2025-06-09 10:15:46.499 +03:00 ERR] PoultrySlaughterPOS.Services.TruckLoadingService: Error retrieving available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:46.515 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error 638a36aa in GetAvailableTrucksAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:46.782 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:46.925 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:47.101 +03:00 ERR] PoultrySlaughterPOS.Services.TruckLoadingService: Error retrieving available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:47.111 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error 290eb175 in GetAvailableTrucksAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:47.302 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:47.488 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading truck loading data after 1670ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:47.500 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error 4d3adc06 in LoadDataAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:47.511 +03:00 WRN] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error message displayed: فشل في تحميل البيانات. يرجى المحاولة مرة أخرى.
[2025-06-09 10:15:47.512 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: TruckLoadingViewModel initialized successfully
[2025-06-09 10:15:47.512 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView async initialization completed successfully
[2025-06-09 10:15:47.513 +03:00 INF] PoultrySlaughterPOS.MainWindow: Successfully navigated to TruckLoading
[2025-06-09 10:15:47.623 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading truck loading data after 1670ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:47.634 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error e12a6e82 in LoadDataAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:e8a1883f-67d9-4a32-b39d-fecb86d8d422
Error Number:208,State:1,Class:16
[2025-06-09 10:15:47.662 +03:00 WRN] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error message displayed: فشل في تحميل البيانات. يرجى المحاولة مرة أخرى.
[2025-06-09 10:15:47.665 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: TruckLoadingViewModel initialized successfully
[2025-06-09 10:15:47.667 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView initialization completed successfully in 2747ms
[2025-06-09 10:15:49.692 +03:00 INF] PoultrySlaughterPOS.MainWindow: Application closing initiated - performing comprehensive cleanup
[2025-06-09 10:15:49.692 +03:00 INF] PoultrySlaughterPOS.MainWindow: Starting comprehensive resource cleanup
[2025-06-09 10:15:49.698 +03:00 INF] PoultrySlaughterPOS.MainWindow: Resource cleanup completed successfully
[2025-06-09 10:15:49.698 +03:00 INF] PoultrySlaughterPOS.MainWindow: Application cleanup completed successfully
[2025-06-09 10:15:49.752 +03:00 INF] : === Poultry Slaughter POS Application Shutdown Initiated ===
[2025-06-09 10:15:49.756 +03:00 INF] : === Poultry Slaughter POS Application Shutdown Completed ===
[2025-06-09 10:16:13.504 +03:00 INF] : Serilog logging infrastructure configured successfully
[2025-06-09 10:16:13.591 +03:00 INF] : === Poultry Slaughter POS Application Starting ===
[2025-06-09 10:16:13.592 +03:00 INF] : Startup initiated with complete customer management integration
[2025-06-09 10:16:14.117 +03:00 INF] : Database configuration - UseExplicitTransactions: true, EnableRetryOnFailure: false
[2025-06-09 10:16:14.630 +03:00 INF] : Service configuration completed successfully with 74 services registered (complete customer management integration)
[2025-06-09 10:16:14.657 +03:00 INF] : Service registration completed - 74 services configured
[2025-06-09 10:16:14.658 +03:00 INF] : Service provider configured successfully
[2025-06-09 10:16:16.288 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 10:16:20.278 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (209ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT COUNT(*)
FROM [CUSTOMERS] AS [c]
WHERE [c].[IsActive] = CAST(1 AS bit)
[2025-06-09 10:16:20.505 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:20.545 +03:00 WRN] Microsoft.EntityFrameworkCore.Query: The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2025-06-09 10:16:20.994 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (243ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT TOP(1) COALESCE(SUM([t].[TotalDebt]), 0.0) AS [TotalDebt], COUNT(*) AS [CustomerCount]
FROM (
    SELECT [c].[TotalDebt], 1 AS [Key]
    FROM [CUSTOMERS] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND [c].[TotalDebt] > 0.0
) AS [t]
GROUP BY [t].[Key]
[2025-06-09 10:16:21.158 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow initialized successfully with complete customer management support
[2025-06-09 10:16:21.159 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:20.738 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error counting active customers
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetActiveCustomerCountAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 641
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:21.439 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error retrieving debt summary
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:21.940 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 10:16:23.634 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (213ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT COUNT(*)
FROM [CUSTOMERS] AS [c]
WHERE [c].[IsActive] = CAST(1 AS bit)
[2025-06-09 10:16:23.801 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-06-09 10:16:23.879 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:24.247 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error retrieving debt summary
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
[2025-06-09 10:16:24.386 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error counting active customers
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetActiveCustomerCountAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 641
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:24.700 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow loaded successfully
[2025-06-09 10:16:24.725 +03:00 INF] : Main window created and displayed successfully
[2025-06-09 10:16:24.725 +03:00 INF] : === Poultry Slaughter POS Application Started Successfully ===
[2025-06-09 10:16:25.712 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:25.706 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:a24d76c0-810a-47ff-97d0-8a8059aafad3
Error Number:208,State:1,Class:16
[2025-06-09 10:16:25.764 +03:00 ERR] PoultrySlaughterPOS.Repositories.InvoiceRepository: Error retrieving invoices from "2025-06-09T00:00:00.0000000+03:00" to "2025-06-10T00:00:00.0000000+03:00"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'INVOICES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.InvoiceRepository.GetInvoicesByDateRangeAsync(DateTime fromDate, DateTime toDate, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\InvoiceRepository.cs:line 296
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:25.847 +03:00 ERR] PoultrySlaughterPOS.Repositories.InvoiceRepository: Error retrieving invoices from "2025-06-09T00:00:00.0000000+03:00" to "2025-06-10T00:00:00.0000000+03:00"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'INVOICES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.InvoiceRepository.GetInvoicesByDateRangeAsync(DateTime fromDate, DateTime toDate, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\InvoiceRepository.cs:line 296
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:26.355 +03:00 ERR] PoultrySlaughterPOS.MainWindow: Error loading dashboard statistics
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetActiveCustomerCountAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 641
   at PoultrySlaughterPOS.MainWindow.LoadDashboardStatisticsAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\MainWindow.xaml.cs:line 555
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:26.400 +03:00 WRN] PoultrySlaughterPOS.MainWindow: Status message (Error): خطأ في تحميل إحصائيات النظام
[2025-06-09 10:16:26.523 +03:00 ERR] PoultrySlaughterPOS.MainWindow: Error loading dashboard statistics
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
   at PoultrySlaughterPOS.MainWindow.LoadDashboardStatisticsAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\MainWindow.xaml.cs:line 555
[2025-06-09 10:16:26.529 +03:00 WRN] PoultrySlaughterPOS.MainWindow: Status message (Error): خطأ في تحميل إحصائيات النظام
[2025-06-09 10:16:26.530 +03:00 INF] PoultrySlaughterPOS.MainWindow: Initial dashboard loaded successfully
[2025-06-09 10:16:29.423 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 10:16:29.464 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: TruckLoadingViewModel initialized with enhanced save functionality and debugging capabilities
[2025-06-09 10:16:29.465 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: TruckLoadingViewModel initialized with enhanced save functionality and debugging capabilities
[2025-06-09 10:16:29.588 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView ViewModel set successfully
[2025-06-09 10:16:29.588 +03:00 INF] PoultrySlaughterPOS.MainWindow: Truck Loading view created and configured successfully
[2025-06-09 10:16:29.589 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView async initialization started
[2025-06-09 10:16:29.590 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Initializing TruckLoadingViewModel with enhanced save capabilities
[2025-06-09 10:16:29.596 +03:00 INF] PoultrySlaughterPOS.Services.TruckLoadingService: Retrieving available trucks for loading
[2025-06-09 10:16:30.414 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:30.695 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView loaded, initializing ViewModel with save functionality
[2025-06-09 10:16:30.696 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Initializing TruckLoadingViewModel with enhanced save capabilities
[2025-06-09 10:16:30.696 +03:00 INF] PoultrySlaughterPOS.Services.TruckLoadingService: Retrieving available trucks for loading
[2025-06-09 10:16:31.462 +03:00 ERR] PoultrySlaughterPOS.Services.TruckLoadingService: Error retrieving available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:31.474 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error 75c4f242 in GetAvailableTrucksAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:31.665 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:31.850 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading truck loading data after 1153ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:31.872 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error d5ea5cea in LoadDataAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:31.885 +03:00 WRN] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error message displayed: فشل في تحميل البيانات. يرجى المحاولة مرة أخرى.
[2025-06-09 10:16:31.886 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: TruckLoadingViewModel initialized successfully
[2025-06-09 10:16:31.886 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView async initialization completed successfully
[2025-06-09 10:16:31.887 +03:00 INF] PoultrySlaughterPOS.MainWindow: Successfully navigated to TruckLoading
[2025-06-09 10:16:32.044 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:32.204 +03:00 ERR] PoultrySlaughterPOS.Services.TruckLoadingService: Error retrieving available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:32.213 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error bed0d51c in GetAvailableTrucksAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:32.395 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:32.586 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading truck loading data after 1153ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:32.597 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error 77fc6db5 in LoadDataAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:13300496-f74b-4304-843c-ebe48769340e
Error Number:208,State:1,Class:16
[2025-06-09 10:16:32.608 +03:00 WRN] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error message displayed: فشل في تحميل البيانات. يرجى المحاولة مرة أخرى.
[2025-06-09 10:16:32.609 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: TruckLoadingViewModel initialized successfully
[2025-06-09 10:16:32.609 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView initialization completed successfully in 1914ms
[2025-06-09 10:16:38.044 +03:00 INF] PoultrySlaughterPOS.MainWindow: Application closing initiated - performing comprehensive cleanup
[2025-06-09 10:16:38.045 +03:00 INF] PoultrySlaughterPOS.MainWindow: Starting comprehensive resource cleanup
[2025-06-09 10:16:38.056 +03:00 INF] PoultrySlaughterPOS.MainWindow: Resource cleanup completed successfully
[2025-06-09 10:16:38.056 +03:00 INF] PoultrySlaughterPOS.MainWindow: Application cleanup completed successfully
[2025-06-09 10:16:38.110 +03:00 INF] : === Poultry Slaughter POS Application Shutdown Initiated ===
[2025-06-09 10:16:38.115 +03:00 INF] : === Poultry Slaughter POS Application Shutdown Completed ===
[2025-06-09 10:17:30.951 +03:00 INF] : Serilog logging infrastructure configured successfully
[2025-06-09 10:17:31.046 +03:00 INF] : === Poultry Slaughter POS Application Starting ===
[2025-06-09 10:17:31.046 +03:00 INF] : Startup initiated with complete customer management integration
[2025-06-09 10:17:31.385 +03:00 INF] : Database configuration - UseExplicitTransactions: true, EnableRetryOnFailure: false
[2025-06-09 10:17:31.953 +03:00 INF] : Service configuration completed successfully with 71 services registered (complete customer management integration)
[2025-06-09 10:17:31.985 +03:00 INF] : Service registration completed - 71 services configured
[2025-06-09 10:17:31.986 +03:00 INF] : Service provider configured successfully
[2025-06-09 10:17:33.378 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 10:17:37.518 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (179ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT COUNT(*)
FROM [CUSTOMERS] AS [c]
WHERE [c].[IsActive] = CAST(1 AS bit)
[2025-06-09 10:17:37.767 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:37.782 +03:00 WRN] Microsoft.EntityFrameworkCore.Query: The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2025-06-09 10:17:38.289 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (235ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT TOP(1) COALESCE(SUM([t].[TotalDebt]), 0.0) AS [TotalDebt], COUNT(*) AS [CustomerCount]
FROM (
    SELECT [c].[TotalDebt], 1 AS [Key]
    FROM [CUSTOMERS] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND [c].[TotalDebt] > 0.0
) AS [t]
GROUP BY [t].[Key]
[2025-06-09 10:17:38.460 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow initialized successfully with complete customer management support
[2025-06-09 10:17:38.459 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:38.050 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error counting active customers
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetActiveCustomerCountAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 641
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:38.741 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error retrieving debt summary
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:39.219 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 10:17:40.781 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (160ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT COUNT(*)
FROM [CUSTOMERS] AS [c]
WHERE [c].[IsActive] = CAST(1 AS bit)
[2025-06-09 10:17:40.994 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-06-09 10:17:41.138 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:41.501 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error retrieving debt summary
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
[2025-06-09 10:17:41.695 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error counting active customers
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetActiveCustomerCountAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 641
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:41.992 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow loaded successfully
[2025-06-09 10:17:42.012 +03:00 INF] : Main window created and displayed successfully
[2025-06-09 10:17:42.012 +03:00 INF] : === Poultry Slaughter POS Application Started Successfully ===
[2025-06-09 10:17:42.583 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:0735c2ff-013f-4118-a8f0-a1b93e303674
Error Number:208,State:1,Class:16
[2025-06-09 10:17:42.644 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:42.764 +03:00 ERR] PoultrySlaughterPOS.Repositories.InvoiceRepository: Error retrieving invoices from "2025-06-09T00:00:00.0000000+03:00" to "2025-06-10T00:00:00.0000000+03:00"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'INVOICES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.InvoiceRepository.GetInvoicesByDateRangeAsync(DateTime fromDate, DateTime toDate, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\InvoiceRepository.cs:line 296
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:42.630 +03:00 ERR] PoultrySlaughterPOS.Repositories.InvoiceRepository: Error retrieving invoices from "2025-06-09T00:00:00.0000000+03:00" to "2025-06-10T00:00:00.0000000+03:00"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'INVOICES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.InvoiceRepository.GetInvoicesByDateRangeAsync(DateTime fromDate, DateTime toDate, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\InvoiceRepository.cs:line 296
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:43.172 +03:00 ERR] PoultrySlaughterPOS.MainWindow: Error loading dashboard statistics
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
   at PoultrySlaughterPOS.MainWindow.LoadDashboardStatisticsAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\MainWindow.xaml.cs:line 555
[2025-06-09 10:17:43.190 +03:00 WRN] PoultrySlaughterPOS.MainWindow: Status message (Error): خطأ في تحميل إحصائيات النظام
[2025-06-09 10:17:43.296 +03:00 ERR] PoultrySlaughterPOS.MainWindow: Error loading dashboard statistics
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetActiveCustomerCountAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 641
   at PoultrySlaughterPOS.MainWindow.LoadDashboardStatisticsAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\MainWindow.xaml.cs:line 555
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:43.320 +03:00 WRN] PoultrySlaughterPOS.MainWindow: Status message (Error): خطأ في تحميل إحصائيات النظام
[2025-06-09 10:17:43.323 +03:00 INF] PoultrySlaughterPOS.MainWindow: Initial dashboard loaded successfully
[2025-06-09 10:17:47.225 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 10:17:47.266 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: TruckLoadingViewModel initialized with enhanced save functionality and debugging capabilities
[2025-06-09 10:17:47.267 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: TruckLoadingViewModel initialized with enhanced save functionality and debugging capabilities
[2025-06-09 10:17:47.357 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView ViewModel set successfully
[2025-06-09 10:17:47.357 +03:00 INF] PoultrySlaughterPOS.MainWindow: Truck Loading view created and configured successfully
[2025-06-09 10:17:47.358 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView async initialization started
[2025-06-09 10:17:47.359 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Initializing TruckLoadingViewModel with enhanced save capabilities
[2025-06-09 10:17:47.365 +03:00 INF] PoultrySlaughterPOS.Services.TruckLoadingService: Retrieving available trucks for loading
[2025-06-09 10:17:48.320 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:48.477 +03:00 ERR] PoultrySlaughterPOS.Services.TruckLoadingService: Error retrieving available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:48.498 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error bd9cb98c in GetAvailableTrucksAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:48.685 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:48.895 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading truck loading data after 1534ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:48.907 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error ae939c27 in LoadDataAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:48.920 +03:00 WRN] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error message displayed: فشل في تحميل البيانات. يرجى المحاولة مرة أخرى.
[2025-06-09 10:17:48.921 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: TruckLoadingViewModel initialized successfully
[2025-06-09 10:17:48.921 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView async initialization completed successfully
[2025-06-09 10:17:48.922 +03:00 INF] PoultrySlaughterPOS.MainWindow: Successfully navigated to TruckLoading
[2025-06-09 10:17:49.133 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView loaded, initializing ViewModel with save functionality
[2025-06-09 10:17:49.133 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Initializing TruckLoadingViewModel with enhanced save capabilities
[2025-06-09 10:17:49.134 +03:00 INF] PoultrySlaughterPOS.Services.TruckLoadingService: Retrieving available trucks for loading
[2025-06-09 10:17:49.906 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:50.060 +03:00 ERR] PoultrySlaughterPOS.Services.TruckLoadingService: Error retrieving available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:50.071 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error 505d45ff in GetAvailableTrucksAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:50.256 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:50.453 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading truck loading data after 1319ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:50.476 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error 696bbc56 in LoadDataAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:17:50.485 +03:00 WRN] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error message displayed: فشل في تحميل البيانات. يرجى المحاولة مرة أخرى.
[2025-06-09 10:17:50.500 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: TruckLoadingViewModel initialized successfully
[2025-06-09 10:17:50.500 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView initialization completed successfully in 1367ms
[2025-06-09 10:18:56.779 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView async initialization started
[2025-06-09 10:18:56.779 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Initializing TruckLoadingViewModel with enhanced save capabilities
[2025-06-09 10:18:56.780 +03:00 INF] PoultrySlaughterPOS.Services.TruckLoadingService: Retrieving available trucks for loading
[2025-06-09 10:18:57.697 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:18:57.837 +03:00 ERR] PoultrySlaughterPOS.Services.TruckLoadingService: Error retrieving available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:18:57.850 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error 004efde8 in GetAvailableTrucksAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:18:58.021 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading available trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:18:58.193 +03:00 ERR] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error loading truck loading data after 1413ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:18:58.202 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error f74580b4 in LoadDataAsync: SqlException - Invalid object name 'TRUCKS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 84
   at PoultrySlaughterPOS.Services.TruckLoadingService.GetAvailableTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\TruckLoadingService.cs:line 102
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadAvailableTrucksAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 390
   at PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel.LoadDataAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\TruckLoadingViewModel.cs:line 133
ClientConnectionId:98834795-4535-4cd3-90ad-0089cb6326d8
Error Number:208,State:1,Class:16
[2025-06-09 10:18:58.210 +03:00 WRN] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: Error message displayed: فشل في تحميل البيانات. يرجى المحاولة مرة أخرى.
[2025-06-09 10:18:58.211 +03:00 INF] PoultrySlaughterPOS.ViewModels.TruckLoadingViewModel: TruckLoadingViewModel initialized successfully
[2025-06-09 10:18:58.211 +03:00 INF] PoultrySlaughterPOS.Views.TruckLoadingView: TruckLoadingView async initialization completed successfully
[2025-06-09 10:18:58.211 +03:00 INF] PoultrySlaughterPOS.MainWindow: Successfully navigated to TruckLoading
[2025-06-09 10:20:30.989 +03:00 INF] PoultrySlaughterPOS.MainWindow: Reports navigation attempted - feature under development
[2025-06-09 10:20:54.478 +03:00 INF] PoultrySlaughterPOS.MainWindow: Reconciliation navigation attempted - feature under development
[2025-06-09 10:20:59.046 +03:00 INF] PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel: CustomerAccountsViewModel initialized with enhanced debt settlement capabilities and comprehensive null safety
[2025-06-09 10:20:59.047 +03:00 INF] PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel: CustomerAccountsViewModel initialized with enhanced debt settlement capabilities and comprehensive null safety
[2025-06-09 10:20:59.149 +03:00 INF] PoultrySlaughterPOS.Views.CustomerAccountsView: ViewModel set successfully for CustomerAccountsView
[2025-06-09 10:20:59.701 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (465ms) [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='120']
SELECT COUNT(*)
FROM [CUSTOMERS] AS [c]
WHERE [c].[IsActive] = @__isActive_Value_0
[2025-06-09 10:20:59.701 +03:00 INF] PoultrySlaughterPOS.Views.CustomerAccountsView: ViewModel set successfully for CustomerAccountsView
[2025-06-09 10:21:00.211 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-06-09 10:21:00.217 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0735c2ff-013f-4118-a8f0-a1b93e303674
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0735c2ff-013f-4118-a8f0-a1b93e303674
Error Number:208,State:1,Class:16
[2025-06-09 10:21:00.744 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error retrieving paged customers. Page: 1, Size: 50, Search: , Active: true
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetCustomersPagedAsync(Int32 pageNumber, Int32 pageSize, String searchTerm, Nullable`1 isActive, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 353
[2025-06-09 10:21:00.989 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error retrieving paged customers. Page: 1, Size: 50, Search: , Active: true
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetCustomersPagedAsync(Int32 pageNumber, Int32 pageSize, String searchTerm, Nullable`1 isActive, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 353
ClientConnectionId:0735c2ff-013f-4118-a8f0-a1b93e303674
Error Number:208,State:1,Class:16
[2025-06-09 10:21:01.351 +03:00 ERR] PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel: Error loading customers paged
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetCustomersPagedAsync(Int32 pageNumber, Int32 pageSize, String searchTerm, Nullable`1 isActive, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 353
   at PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel.LoadCustomersPagedAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\CustomerAccountsViewModel.cs:line 1255
[2025-06-09 10:21:01.683 +03:00 ERR] PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel: Error during CustomerAccountsViewModel initialization
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetCustomersPagedAsync(Int32 pageNumber, Int32 pageSize, String searchTerm, Nullable`1 isActive, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 353
   at PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel.LoadCustomersPagedAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\CustomerAccountsViewModel.cs:line 1255
   at PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel.InitializeAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\CustomerAccountsViewModel.cs:line 1021
[2025-06-09 10:21:01.689 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error 9848ea3a in CustomerAccountsViewModel.InitializeAsync: InvalidOperationException - A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetCustomersPagedAsync(Int32 pageNumber, Int32 pageSize, String searchTerm, Nullable`1 isActive, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 353
   at PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel.LoadCustomersPagedAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\CustomerAccountsViewModel.cs:line 1255
   at PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel.InitializeAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\CustomerAccountsViewModel.cs:line 1021
[2025-06-09 10:21:01.696 +03:00 INF] PoultrySlaughterPOS.MainWindow: Customer Accounts view created and configured successfully
[2025-06-09 10:21:01.702 +03:00 INF] PoultrySlaughterPOS.MainWindow: Successfully navigated to CustomerAccounts
[2025-06-09 10:21:01.795 +03:00 ERR] PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel: Error loading customers paged
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetCustomersPagedAsync(Int32 pageNumber, Int32 pageSize, String searchTerm, Nullable`1 isActive, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 353
   at PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel.LoadCustomersPagedAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\CustomerAccountsViewModel.cs:line 1255
ClientConnectionId:0735c2ff-013f-4118-a8f0-a1b93e303674
Error Number:208,State:1,Class:16
[2025-06-09 10:21:01.990 +03:00 ERR] PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel: Error during CustomerAccountsViewModel initialization
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetCustomersPagedAsync(Int32 pageNumber, Int32 pageSize, String searchTerm, Nullable`1 isActive, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 353
   at PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel.LoadCustomersPagedAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\CustomerAccountsViewModel.cs:line 1255
   at PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel.InitializeAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\CustomerAccountsViewModel.cs:line 1021
ClientConnectionId:0735c2ff-013f-4118-a8f0-a1b93e303674
Error Number:208,State:1,Class:16
[2025-06-09 10:21:02.010 +03:00 ERR] PoultrySlaughterPOS.Services.ErrorHandlingService: Error 00d26618 in CustomerAccountsViewModel.InitializeAsync: SqlException - Invalid object name 'CUSTOMERS'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetCustomersPagedAsync(Int32 pageNumber, Int32 pageSize, String searchTerm, Nullable`1 isActive, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 353
   at PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel.LoadCustomersPagedAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\CustomerAccountsViewModel.cs:line 1255
   at PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel.InitializeAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\ViewModels\CustomerAccountsViewModel.cs:line 1021
ClientConnectionId:0735c2ff-013f-4118-a8f0-a1b93e303674
Error Number:208,State:1,Class:16
[2025-06-09 10:21:11.603 +03:00 INF] PoultrySlaughterPOS.MainWindow: Successfully navigated to Dashboard
[2025-06-09 10:21:11.613 +03:00 INF] PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel: CustomerAccountsViewModel cleanup completed successfully
[2025-06-09 10:21:25.030 +03:00 INF] PoultrySlaughterPOS.MainWindow: Application closing initiated - performing comprehensive cleanup
[2025-06-09 10:21:25.031 +03:00 INF] PoultrySlaughterPOS.MainWindow: Starting comprehensive resource cleanup
[2025-06-09 10:21:25.033 +03:00 INF] PoultrySlaughterPOS.ViewModels.CustomerAccountsViewModel: CustomerAccountsViewModel cleanup completed successfully
[2025-06-09 10:21:25.033 +03:00 INF] PoultrySlaughterPOS.MainWindow: Resource cleanup completed successfully
[2025-06-09 10:21:25.033 +03:00 INF] PoultrySlaughterPOS.MainWindow: Application cleanup completed successfully
[2025-06-09 10:21:25.127 +03:00 INF] : === Poultry Slaughter POS Application Shutdown Initiated ===
[2025-06-09 10:21:25.132 +03:00 INF] : === Poultry Slaughter POS Application Shutdown Completed ===
[2025-06-09 10:24:31.019 +03:00 INF] : Serilog logging infrastructure configured successfully
[2025-06-09 10:24:31.112 +03:00 INF] : === Poultry Slaughter POS Application Starting ===
[2025-06-09 10:24:31.112 +03:00 INF] : Startup initiated with complete customer management integration
[2025-06-09 10:24:31.277 +03:00 INF] : Database configuration - UseExplicitTransactions: true, EnableRetryOnFailure: false
[2025-06-09 10:24:31.435 +03:00 INF] : Service configuration completed successfully with 71 services registered (complete customer management integration)
[2025-06-09 10:24:31.456 +03:00 INF] : Service registration completed - 71 services configured
[2025-06-09 10:24:31.457 +03:00 INF] : Service provider configured successfully
[2025-06-09 10:24:32.738 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 10:24:36.866 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (186ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT COUNT(*)
FROM [CUSTOMERS] AS [c]
WHERE [c].[IsActive] = CAST(1 AS bit)
[2025-06-09 10:24:37.169 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ec1d3cec-7687-49c9-88e5-5f1b14d5c71e
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ec1d3cec-7687-49c9-88e5-5f1b14d5c71e
Error Number:208,State:1,Class:16
[2025-06-09 10:24:37.179 +03:00 WRN] Microsoft.EntityFrameworkCore.Query: The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
[2025-06-09 10:24:37.691 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (227ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT TOP(1) COALESCE(SUM([t].[TotalDebt]), 0.0) AS [TotalDebt], COUNT(*) AS [CustomerCount]
FROM (
    SELECT [c].[TotalDebt], 1 AS [Key]
    FROM [CUSTOMERS] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND [c].[TotalDebt] > 0.0
) AS [t]
GROUP BY [t].[Key]
[2025-06-09 10:24:37.839 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow initialized successfully with complete customer management support
[2025-06-09 10:24:37.839 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ec1d3cec-7687-49c9-88e5-5f1b14d5c71e
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ec1d3cec-7687-49c9-88e5-5f1b14d5c71e
Error Number:208,State:1,Class:16
[2025-06-09 10:24:37.442 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error counting active customers
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetActiveCustomerCountAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 641
ClientConnectionId:ec1d3cec-7687-49c9-88e5-5f1b14d5c71e
Error Number:208,State:1,Class:16
[2025-06-09 10:24:38.093 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error retrieving debt summary
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
ClientConnectionId:ec1d3cec-7687-49c9-88e5-5f1b14d5c71e
Error Number:208,State:1,Class:16
[2025-06-09 10:24:38.394 +03:00 INF] : SQL Server retry strategy disabled to support explicit transactions
[2025-06-09 10:24:39.738 +03:00 ERR] Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (191ms) [Parameters=[], CommandType='"Text"', CommandTimeout='120']
SELECT COUNT(*)
FROM [CUSTOMERS] AS [c]
WHERE [c].[IsActive] = CAST(1 AS bit)
[2025-06-09 10:24:40.110 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-06-09 10:24:40.212 +03:00 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'PoultrySlaughterPOS.Data.PoultryDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ec1d3cec-7687-49c9-88e5-5f1b14d5c71e
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ec1d3cec-7687-49c9-88e5-5f1b14d5c71e
Error Number:208,State:1,Class:16
[2025-06-09 10:24:40.668 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error retrieving debt summary
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
[2025-06-09 10:24:40.918 +03:00 ERR] PoultrySlaughterPOS.Services.Repositories.CustomerRepository: Error counting active customers
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetActiveCustomerCountAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 641
ClientConnectionId:ec1d3cec-7687-49c9-88e5-5f1b14d5c71e
Error Number:208,State:1,Class:16
[2025-06-09 10:24:41.254 +03:00 INF] PoultrySlaughterPOS.MainWindow: MainWindow loaded successfully
[2025-06-09 10:24:41.276 +03:00 INF] : Main window created and displayed successfully
[2025-06-09 10:24:41.276 +03:00 INF] : === Poultry Slaughter POS Application Started Successfully ===
[2025-06-09 10:24:42.201 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:c5971585-aca4-4a17-bd51-40f56ad16670
Error Number:208,State:1,Class:16
[2025-06-09 10:24:42.330 +03:00 ERR] PoultrySlaughterPOS.Repositories.TruckRepository: Error retrieving active trucks
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'TRUCKS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.TruckRepository.GetActiveTrucksAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\TruckRepository.cs:line 111
ClientConnectionId:ec1d3cec-7687-49c9-88e5-5f1b14d5c71e
Error Number:208,State:1,Class:16
[2025-06-09 10:24:42.401 +03:00 ERR] PoultrySlaughterPOS.Repositories.InvoiceRepository: Error retrieving invoices from "2025-06-09T00:00:00.0000000+03:00" to "2025-06-10T00:00:00.0000000+03:00"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'INVOICES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.InvoiceRepository.GetInvoicesByDateRangeAsync(DateTime fromDate, DateTime toDate, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\InvoiceRepository.cs:line 296
ClientConnectionId:ec1d3cec-7687-49c9-88e5-5f1b14d5c71e
Error Number:208,State:1,Class:16
[2025-06-09 10:24:42.201 +03:00 ERR] PoultrySlaughterPOS.Repositories.InvoiceRepository: Error retrieving invoices from "2025-06-09T00:00:00.0000000+03:00" to "2025-06-10T00:00:00.0000000+03:00"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'INVOICES'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Repositories.InvoiceRepository.GetInvoicesByDateRangeAsync(DateTime fromDate, DateTime toDate, CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\InvoiceRepository.cs:line 296
ClientConnectionId:ec1d3cec-7687-49c9-88e5-5f1b14d5c71e
Error Number:208,State:1,Class:16
[2025-06-09 10:24:42.794 +03:00 ERR] PoultrySlaughterPOS.MainWindow: Error loading dashboard statistics
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetDebtSummaryAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 177
   at PoultrySlaughterPOS.MainWindow.LoadDashboardStatisticsAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\MainWindow.xaml.cs:line 555
[2025-06-09 10:24:42.801 +03:00 WRN] PoultrySlaughterPOS.MainWindow: Status message (Error): خطأ في تحميل إحصائيات النظام
[2025-06-09 10:24:42.901 +03:00 ERR] PoultrySlaughterPOS.MainWindow: Error loading dashboard statistics
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'CUSTOMERS'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PoultrySlaughterPOS.Services.Repositories.CustomerRepository.GetActiveCustomerCountAsync(CancellationToken cancellationToken) in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\Services\Repositories\Implementations\CustomerRepository.cs:line 641
   at PoultrySlaughterPOS.MainWindow.LoadDashboardStatisticsAsync() in C:\Users\Mr. Ahmad\Desktop\Chicken-52fcafa715f985cce12e5301554d8480de4ef024\PoultrySlaughterPOS\MainWindow.xaml.cs:line 555
ClientConnectionId:ec1d3cec-7687-49c9-88e5-5f1b14d5c71e
Error Number:208,State:1,Class:16
[2025-06-09 10:24:42.913 +03:00 WRN] PoultrySlaughterPOS.MainWindow: Status message (Error): خطأ في تحميل إحصائيات النظام
[2025-06-09 10:24:42.918 +03:00 INF] PoultrySlaughterPOS.MainWindow: Initial dashboard loaded successfully
[2025-06-09 10:24:46.691 +03:00 INF] PoultrySlaughterPOS.MainWindow: Application closing initiated - performing comprehensive cleanup
[2025-06-09 10:24:46.692 +03:00 INF] PoultrySlaughterPOS.MainWindow: Starting comprehensive resource cleanup
[2025-06-09 10:24:46.693 +03:00 INF] PoultrySlaughterPOS.MainWindow: Resource cleanup completed successfully
[2025-06-09 10:24:46.693 +03:00 INF] PoultrySlaughterPOS.MainWindow: Application cleanup completed successfully
[2025-06-09 10:24:46.751 +03:00 INF] : === Poultry Slaughter POS Application Shutdown Initiated ===
[2025-06-09 10:24:46.757 +03:00 INF] : === Poultry Slaughter POS Application Shutdown Completed ===
